///
/// NitroTestAutolinking.swift
/// This file was generated by nitrogen. DO NOT MODIFY THIS FILE.
/// https://github.com/mrousavy/nitro
/// Copyright Â© Marc Rousavy @ Margelo
///

import NitroModules

// TODO: Use empty enums once Swift supports exporting them as namespaces
//       See: https://github.com/swiftlang/swift/pull/83616
public final class NitroTestAutolinking {
  public typealias bridge = margelo.nitro.test.bridge.swift
  
  public static func createASCIIString(bytes: UnsafeRawPointer, length: Int) -> String {
    return String(unsafeUninitializedCapacity: length) { buffer in
      memcpy(buffer.baseAddress, bytes, length)
      return length
    }
  }
  public static func createUTF16String(bytes: UnsafePointer<UInt16>, length: Int) -> String {
    return String(utf16CodeUnits: bytes, count: length)
  }
  
  public static func getStringBytes(rt: inout facebook.jsi.Runtime, string: String) -> bridge.UnsafeJsiStringWrapper {
    if string.isEmpty {
      // 0 characters
      return bridge.UnsafeJsiStringWrapper(consuming: facebook.jsi.String.createFromAscii(&rt, "", 0))
    }
    
    if #available(iOS 26.0, *),
       string.utf8Span.isKnownASCII {
      // It's all ASCII characters!
      let span = string.utf8Span.span
      return span.withUnsafeBytes { buffer in
        return bridge.UnsafeJsiStringWrapper(consuming: facebook.jsi.String.createFromAscii(&rt, buffer.baseAddress!, span.count))
      }
    } else {
      // It's not ASCII, so let's use UTF16 as that's JSI's native path
      let utf16JsiString = string.utf16.withContiguousStorageIfAvailable { buffer in
        return bridge.UnsafeJsiStringWrapper(consuming: facebook.jsi.String.createFromUtf16(&rt, buffer.baseAddress!, string.count))
      }
      if let utf16JsiString {
        return utf16JsiString
      }
      fatalError("String does not have contiguous storage!")
    }
  }

  public static func createTestObjectSwiftKotlin() -> bridge.std__shared_ptr_HybridTestObjectSwiftKotlinSpec_ {
    let hybridObject = HybridTestObjectSwift()
    return { () -> bridge.std__shared_ptr_HybridTestObjectSwiftKotlinSpec_ in
      let __cxxWrapped = hybridObject.getCxxWrapper()
      return __cxxWrapped.getCxxPart()
    }()
  }
  
  public static func isTestObjectSwiftKotlinRecyclable() -> Bool {
    return HybridTestObjectSwift.self is any RecyclableView.Type
  }
  
  public static func createBase() -> bridge.std__shared_ptr_HybridBaseSpec_ {
    let hybridObject = HybridBase()
    return { () -> bridge.std__shared_ptr_HybridBaseSpec_ in
      let __cxxWrapped = hybridObject.getCxxWrapper()
      return __cxxWrapped.getCxxPart()
    }()
  }
  
  public static func isBaseRecyclable() -> Bool {
    return HybridBase.self is any RecyclableView.Type
  }
  
  public static func createChild() -> bridge.std__shared_ptr_HybridChildSpec_ {
    let hybridObject = HybridChild()
    return { () -> bridge.std__shared_ptr_HybridChildSpec_ in
      let __cxxWrapped = hybridObject.getCxxWrapper()
      return __cxxWrapped.getCxxPart()
    }()
  }
  
  public static func isChildRecyclable() -> Bool {
    return HybridChild.self is any RecyclableView.Type
  }
  
  public static func createPlatformObject() -> bridge.std__shared_ptr_HybridPlatformObjectSpec_ {
    let hybridObject = HybridPlatformObject()
    return { () -> bridge.std__shared_ptr_HybridPlatformObjectSpec_ in
      let __cxxWrapped = hybridObject.getCxxWrapper()
      return __cxxWrapped.getCxxPart()
    }()
  }
  
  public static func isPlatformObjectRecyclable() -> Bool {
    return HybridPlatformObject.self is any RecyclableView.Type
  }
  
  public static func createTestView() -> bridge.std__shared_ptr_HybridTestViewSpec_ {
    let hybridObject = HybridTestView()
    return { () -> bridge.std__shared_ptr_HybridTestViewSpec_ in
      let __cxxWrapped = hybridObject.getCxxWrapper()
      return __cxxWrapped.getCxxPart()
    }()
  }
  
  public static func isTestViewRecyclable() -> Bool {
    return HybridTestView.self is any RecyclableView.Type
  }
  
  public static func createRecyclableTestView() -> bridge.std__shared_ptr_HybridRecyclableTestViewSpec_ {
    let hybridObject = HybridRecyclableTestView()
    return { () -> bridge.std__shared_ptr_HybridRecyclableTestViewSpec_ in
      let __cxxWrapped = hybridObject.getCxxWrapper()
      return __cxxWrapped.getCxxPart()
    }()
  }
  
  public static func isRecyclableTestViewRecyclable() -> Bool {
    return HybridRecyclableTestView.self is any RecyclableView.Type
  }
}
